    {% load staticfiles %}

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
    <script src="{% static 'js/jquery.min.js' %}"></script>
    <!-- <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script> -->
    <script>window.jQuery || document.write('<script src="{% static 'js/jquery.min.js' %}"><\/script>')</script>
    <!-- <script src="../../dist/js/bootstrap.min.js"></script> -->
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->
    <script src="{% static 'js/ie10-viewport-bug-workaround.js' %}"></script>

    <script src="{% static 'js/custom.js' %}"></script>

    <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>

    <script src="{% static 'js/jquery-ui.js' %}"></script>

    <script src="{% static 'js/jquery.form.js' %}"></script>

    <script>

        function updateCartItemCount(){
            var badge = $("#cart-count-badge");

            $.ajax({
                type: "GET",
                url: "{% url 'item_count' %}",
                success: function(data){
                    badge.text(data.count);
                    console.log(data.count);
                },
                error: function(response, error) {
                    console.log(response)
                    console.log(error);
                }
            })

        }

        document.body.addEventListener('touchstart',function(event){
             //event.stopPropagation(); //prevent propagatin
             event.preventDefault();  //prevent default brower event
             xx = event.targetTouches[0].screenX ;
             yy = event.targetTouches[0].screenY ;
             swipeX = true;
             swipeY = true ;
         })

        document.body.addEventListener('touchmove',function(event){
            XX = event.targetTouches[0].screenX ;
            YY = event.targetTouches[0].screenY ;
            if(swipeX && Math.abs(XX-xx)-Math.abs(YY-yy)>0)  //左右滑动
            {
                event.stopPropagation();//阻止冒泡
                event.preventDefault();//阻止浏览器默认事件
                swipeY = false ;
                //左右滑动
            }
            else if(swipeY && Math.abs(XX-xx)-Math.abs(YY-yy)<0){  //上下滑动
                swipeX = false ;
                //上下滑动，使用浏览器默认的上下滑动
            }
        })
        document.body.addEventListener('touchend',function(event){
            //event.stopPropagation();//阻止冒泡
            event.preventDefault();//阻止浏览器默认事件
            })

        $(document).ready(function(){
            updateCartItemCount()
        })

    </script>